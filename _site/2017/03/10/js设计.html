<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="/styles/css/index.css">
		<title>js几种常见设计模式</title>
　　</head>
　　<body>
　　　　	<div class="container">
	<div class="left">
		<div class="content">
			<div class="logo">
				<img src="/../assets/logo.jpg" alt="logo">
			</div>
			<div class="motto">依你之萍</div>
			<div class="navigation">
				<span class="btn pink">
					<a href="http://localhost:4000">
						<img src="/../assets/home.png" alt="home">
					</a>
				</span>
				<span class="btn white">
					<a href="http://weibo.com/u/2627764953" target="_blank">
						<img src="/../assets/weibo.png" alt="weibo">
					</a>
				</span>
				<span class="btn pink">
					<a href="https://github.com/winnieping" target="_blank">
						<img src="/../assets/github.png" alt="github">
					</a>
				</span>
				<span class="btn white">
					<a href="/2016/02/01/list.html">
						<img src="/../assets/note.png" alt="note">
					</a>
				</span>
			</div>
		</div>
	</div>
	<div class="right">
		<h3 id="js几种常见设计模式">Js几种常见设计模式</h3>
<p>Javascript的设计模式,在平时我们接触的很多代码里已经包含了一些设计模式的实现,在这里做个概念性介绍。</p>
<h4 id="1单例模式">1、单例模式</h4>
<p>产生一个类唯一的实例 <br />
eg：点击注册按钮，弹出一个填写注册信息的遮罩层。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var createMask = function(){
   return document,body.appendChild(  document.createElement(div)  );
}
$( 'button' ).click( function(){ 
   Var mask  = createMask(); 
   mask.show(); 
})
</code></pre>
</div>
<p>代码问题：每次调用createMask都会创建一个新的div, 虽然可以在隐藏遮罩层的把它remove掉. 但显然这样做不合理.<br />
如果可以借助一个变量. 来判断是否已经创建过div呢?</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mask;
var createMask = function(){
  if ( mask ) return mask;
	else{
	  mask = document,body.appendChild(  document.createElement(div)  );
	  return mask;	 
  } 
}

</code></pre>
</div>
<p>代码问题：函数体内改变了外界变量mask的引用，createMask是个不安全的函数。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var createMask = function(){
  var mask;
  return function(){
      return mask || ( mask = document.body.appendChild( document.createElement('div') ) )
  }
}()
</code></pre>
</div>
<p>解决：用了个简单的闭包把变量mask包起来, 至少对于createMask函数来讲, 它是封闭的.</p>
<h4 id="2简单工厂模式">2、简单工厂模式</h4>
<p>由一个方法来决定到底要创建哪个类的实例，</p>
<h4 id="3观察者模式">3、观察者模式</h4>
<p>我们平时接触的dom事件基本都是观察者模式。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>div.onclick  =  function click (){
   alert ( ''click' )
}
</code></pre>
</div>
<p>只要订阅了div的click事件. 当点击div的时候, function click就会被触发.</p>

	</div>
</div>


　　</body>
</html>
