---
layout: post
title: 'React'
---
React并不是一个MVC框架，只是一个用于构建UI的javascript库。  React一般也叫React.js，起源于facebook，提倡用可重用的组件来表现随时间变化的数据。
<!--break-->
#### 1.React生命周期
组件挂载：

```
constuctor()
componentWillMount()
render()
componentDidMount()
```

组件更新：

```
componentWillReciveProps()
componentShouldUpdate()
componentWillUpdate()
render()
componentDidUpdate()
```

组件卸载:

```
componentWillUnMount()
```

#### 2.React虚拟Dom

React render()执行后得到什么？？？得到的并不是真正的Dom节点，而是虚拟Dom。

Virtual DOM + Batching（批处理）+ Diff（算法） 

Virtual DOM

```
虚拟dom实际上就是js画出来的一个画面，存在于内存。直接操作这个画出来的东西，不需要进行dom渲染，所以无论多么频繁操作虚拟dom，速度都很快。
```

Batching

```
将所有的DOM操作搜集起来，一次提交给真实DOM。 
```

 Diff（算法） 

```
比较DOM虚拟节点树
1、节点类型不同	销毁节点，插入新节点
2、节点类型相同，属性不同	（对属性进行重设）
	在同一层	添加Key，插入或删除新节点
	不在同一层	销毁并重建
```

总结：diff算法对比之前的DOM树，得出变化

​			    batching将变化提交给真实DOM

#### 3、路由

React是单页面开发，使用React-Router 实现路由跳转

hashHistory 和 browserHistory

```
hashHistory 	url带#
browserHistory 	需要server 端配置
```

### 4、React性能

一、减少render() 执行次数

比如父组件更新导致子组件不必要的更新，在shouldComponentUpdate（）中操作。

二、使用immutable.js

#### 5、高阶函数

1、定义

```
Concretely, a higher-order component is a function that takes a component and returns a new component.
```

具体来说，高阶组件就是一个函数，且该函数接受一个组件作为参数，并返回一个新的组件。
2、eg：Redux